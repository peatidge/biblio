const value=(o,k)=>o[Object.keys(o).find(key=>key.toLowerCase()===k.toLowerCase())],search=s=>{$(`#${s.entity}_Search`).on("keyup",e=>1<e.target.value.length&&fetch(`/Administration/${s.entity}/Search?searchTerm=`+e.target.value+s.params.map(p=>`&${p.name}=`+p.value).join()).then(r=>r.json()).then(d=>$(`#${s.entity}_Result`).empty().append(d.map(m=>{var el=$(`<div class="search-result" role="button" tabindex="0" title="Select Item">${s.title.map(t=>value(m,t)).join("<br />")}</div>`);return el.on("click keypress",e=>{("click"==e.type||"keypress"==e.type&&13==e.which)&&(s.fields.forEach(f=>$(`#${s.entity}_`+f).val(value(m,f))),$(`#${s.entity}_Result`).empty().hide(),$("#"+s.entity).show().find("button").on("click",e=>$("#"+s.entity).hide().find("input").val("")&&e.preventDefault()))}),el})).show()).catch(error=>console.error(error))),$(`#${s.entity}_Search_Clear`).on("click",()=>$(`#${s.entity}_Search`).val("")&&$(`#${s.entity}_Result`).empty().hide())};$(()=>{$(".input-container-readonly").find(".btn-danger").on("click",e=>$("#"+$(e.target).closest(".input-container-readonly").attr("id")).hide().find("input").val("")&&e.preventDefault())});
//# sourceMappingURL=search.min.js.map