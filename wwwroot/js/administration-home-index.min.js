$(()=>{fetch("/api/reports/books/status").then(r=>r.json()).then(j=>new Chart($("#count-ch-ch-ch-art")[0],{type:"bar",data:{labels:j.map(b=>b.title),datasets:[{label:"Count",backgroundColor:"#ADD8E6",data:j.map(b=>b.count)},{label:"On Loan",backgroundColor:"#F08080",data:j.map(b=>b.onLoan)},{label:"On Hold",backgroundColor:"#FFFACD",data:j.map(b=>b.onHold)},{label:"Available",backgroundColor:"#98FB98",data:j.map(b=>b.available)}]}})).catch(e=>console.error(e.message));let percentageChChChArt;const percentage=j=>{var datasets=[{label:"% Holds",backgroundColor:"#ed1f1f",data:j.map(b=>b.holdPercentage)},{label:"% Loans",backgroundColor:"#851379",data:j.map(b=>b.loanPercentage)},{label:"% Restorations",backgroundColor:"#f2ee07",data:j.map(b=>b.restorationPercentage)}],j=j.map(t=>t.title);percentageChChChArt?.destroy(),percentageChChChArt=new Chart($("#percentage-ch-ch-ch-art")[0],{type:"bar",data:{labels:j,datasets:datasets,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Percentage"}}}}})};fetch("/api/reports/transactions/stat?start="+$("#start").val()).then(r=>r.json()).then(percentage).catch(e=>console.error(e.message)),$("#artist .mojo").on("click",e=>{$(".hide-me").css("visibility","visible").hide(),$("."+$(e.target).data("chart")).show(),e.preventDefault(),e.stopPropagation()}),$("#start").on("blur",()=>fetch("/api/reports/transactions/stat?start="+$("#start")[0]?.valueAsDate?.toISOString()).then(r=>r.json()).then(percentage).catch(e=>console.error(e.message)))});
//# sourceMappingURL=administration-home-index.min.js.map